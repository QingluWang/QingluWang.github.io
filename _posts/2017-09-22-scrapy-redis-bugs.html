---
layout: post
status: publish
published: true
title: "分布式爬虫--scrapy-redis使用"
author:
  display_name: Garlic
  login: wangqinglu
  email: 1119543546@qq.com
  url: ''
author_login: wangqinglu
author_email: 1119543546@qq.com
wordpress_id: 242
wordpress_url: http://blog.wql970522.top/?p=242
date: '2017-09-22 19:31:51 +0800'
date_gmt: '2017-09-22 11:31:51 +0800'
categories:
- Python
tags: []
comments: []
---
<p>使用说明：https://github.com/younghz/scrapy-redis</p>
<p>主要谈谈坑</p>
<p>1、<span style="color: #ff0000;">AttributeError: 'list' object has no attribute 'iteritems'</span></p>
<p>文件：settings.py</p>
<p>ITEM_PIPELINES = [<br />
'scrapy_redis.pipelines.RedisPipeline',<br />
]<br />
改为<br />
ITEM_PIPELINES = {<br />
'scrapy_redis.pipelines.RedisPipeline':300<br />
}<br />
2、<span style="color: #ff0000;">ValueError: ("Failed to instantiate dupefilter class '%s': %s", 'scrapy.dupefilters.RFPDupeFilter', TypeError("__init__() got an unexpected keyword argument 'key'",))</span><br />
文件：settings.py<br />
添加 DUPEFILTER_CLASS = "scrapy_redis.dupefilter.RFPDupeFilter"</p>
