---
layout: post
status: publish
published: true
title: "浅谈Docker"
author:
  display_name: Garlic
  login: wangqinglu
  email: 1119543546@qq.com
  url: ''
author_login: wangqinglu
author_email: 1119543546@qq.com
wordpress_id: 147
wordpress_url: http://blog.wql970522.top/?p=147
date: '2017-03-19 15:17:16 +0800'
date_gmt: '2017-03-19 07:17:16 +0800'
categories:
- "服务器"
tags: []
comments:
- id: 110
  author: Garlic
  author_email: 1119543546@qq.com
  author_url: ''
  date: '2017-08-07 15:54:59 +0800'
  date_gmt: '2017-08-07 07:54:59 +0800'
  content: Hello?
---
<p>一、Docker定义</p>
<p>Docker官网给了定义--Docker is the world&rsquo;s leading software container platform.所以，docker就是一个软件容器平台。</p>
<p>二、Docker优势</p>
<p>1、快速部署</p>
<p>2、提高服务器资源利用效率</p>
<p>3、降低运维成本</p>
<p>三、Docker原理</p>
<p>Docker的隔离技术源自LXC，即Linux Container，是Linux内核虚拟化技术，而LXC与cgroup是密不可分的，cgroup--control group是Linux内核用来控制进程组的资源框架，它可以按照用户自定义的群组对系统运行的进程进行区分，即一个docker,一个group。</p>
<p>Docker主要基于LXC,NameSpace,Cgroup,UnionFs等技术实现。</p>
<p>四、Docker与虚拟机的比较</p>
<p><img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1489847338140&amp;di=a54caacb91b9af7eec3b89b4fc92c27e&amp;imgtype=0&amp;src=http%3A%2F%2Fimg.kuqin.com%2Fupimg%2Fallimg%2F160203%2F215GR024-1.png" /></p>
<p>虚拟机如VmWareWorkStation,采用的是硬件辅助虚拟化技术。</p>
<p>在HostOS宿主机的层面上，Hypervisor构建出一套完整的虚拟硬件系统，在此之上再构建GuestOS虚拟机，即运行在本地OS上的OS,在此之上再运行一系列基于GuestOS的软件。</p>
<p>Docker采用的是操作系统级虚拟化技术，内核通过虚拟多个操作系统实例来隔离多个不同的进程,因此docker与宿主机共享kernel。</p>
<p>Docker省去了Hypervisor这一层，取而代之的是DockerEngine,在HostOS基础上直接进行资源调度，分配资源给各个进程。</p>
<p>五、Docker基本用法</p>
<p>此处以Centos7.2为例进行说明</p>
<p>1、安装docker</p>
<p>yum install -y docker</p>
<p>2、配置DaoCloud镜像加速(docker初始镜像源在国外，国内访问比较慢)</p>
<p>https://www.daocloud.io/</p>
<p>登录进控制台找加速器即可</p>
<p>3、拉取images(此处以apache为例)</p>
<p>docker pull httpd</p>
<p>4、运行container</p>
<p>docker run -d httpd</p>
<p>5、查看container状态</p>
<p>docker ps</p>
<p>六、构建Docker镜像(构建自己需要的镜像)</p>
<p>通过dockerfile文件构建单个镜像</p>
<p>dockerfile文件是一个脚本文件,通过它来构建单个镜像</p>
<p>此处以构建简单apache镜像为例,文件名Dockerfile</p>
<p><img class="alignnone size-medium wp-image-154" src="http://blog.wql970522.top/wp-content/uploads/2017/03/捕获-1-300x201.png" alt="" width="300" height="201" /></p>
<p>FROM--此后的各项操作基于哪个基础镜像</p>
<p>MAINTAINER--作者</p>
<p>RUN--镜像构建过程中执行</p>
<p>CMD--用镜像构建容器后执行</p>
<p>docker build -t test .</p>
<p>docker images可以查看到刚刚构建的镜像</p>
<p>八、常用网站</p>
<p>Docker官网 : https://www.docker.com</p>
<p>DaoCloud加速器 : https://www.daocloud.io/</p>
<p>Docker镜像市场:&nbsp;https://hub.docker.com/</p>
<p>&nbsp;</p>
